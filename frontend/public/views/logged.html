<!-- BODY -->
<!-- ici on veut center le tout au millieu -->
<div class="flex flex-col items-center p-4">
  <!-- Top Section: User Info & Game Modes -->
  <div class="defdiv w-full max-w-3xl flex flex-col md:flex-row">
    <!-- Left: User Info -->
    <div class="flex flex-col justify-center items-center indiv w-full md:w-1/2 p-4">
      <img id="loggedUserAvatar" src="/DefaultProfilePic.png" alt="User Avatar" class="size-24 md:size-32 rounded-xl object-cover mb-4">
      <h1 id="loggedUserUsername" class="text-light text-2xl md:text-3xl font-bold mb-2 text-center">Welcome, Player!</h1>
      <a href="#" data-page="profile" class="text-sm text-mediumdark hover:underline">View Profile</a>
    </div>

    <!-- Right: Game Modes -->
    <div class="flex flex-col w-full md:w-1/2 p-4 justify-center"> <!-- Added justify-center for vertical alignment if flex item size differs -->
      <a href="#" data-page='pongGame' class="block bg-mediumlightdark rounded-xl px-6 py-4 text-light text-center font-semibold hover:bg-mediumdark m-1">Play 1v1</a>
      <a href="#" data-page='pongTournament' class="block bg-mediumlightdark rounded-xl px-6 py-4 text-light text-center font-semibold hover:bg-mediumdark m-1">Play Tournament</a>
    </div>
  </div>

  <!-- Friends Section -->
  <div class="defdiv w-full max-w-3xl mt-6 p-4 flex flex-col">
    <h2 class="text-2xl font-bold text-darkdark mb-4 text-center w-full">Friends & Connections</h2>

    <!-- Find Friend Section -->
    <div class="bg-mediumlightdark rounded-xl p-4 mb-6 flex flex-col items-center w-full">
      <h3 class="text-lg font-semibold text-light mb-2">Find Friend by Username</h3>
      <div class="flex flex-col sm:flex-row w-full max-w-sm gap-3">
        <input type="text" id="findFriendInput" placeholder="Enter username..." class="flex-grow bg-lightlight text-dark rounded-lg p-2 text-center sm:text-left focus:outline-none focus:ring-2 focus:ring-mediumdark"/>
        <button id="sendFriendRequestButton" class="bg-mediumdark hover:bg-dark text-lightlight rounded-lg px-4 py-2 font-semibold transition-colors duration-200">Send Request</button>
      </div>
      <p id="findFriendFeedback" class="text-xs mt-2 h-4 text-center text-gray-500 invisible"> </p> <!-- Added invisible and   for spacing -->
    </div>

    <!-- Tabs -->
    <div class="flex w-full text-sm sm:text-base justify-center">
      <button id="tabMyFriends" class="tab-button flex-1 text-center py-3 px-1 font-semibold text-mediumdark hover:text-dark hover:border-b-2 hover:border-dark transition-colors duration-200 border-b-2 border-transparent">My Friends</button>
      <button id="tabIncomingRequests" class="tab-button flex-1 text-center py-3 px-1 font-semibold text-mediumdark hover:text-dark hover:border-b-2 hover:border-dark transition-colors duration-200 border-b-2 border-transparent">Incoming Requests</button>
      <button id="tabSentRequests" class="tab-button flex-1 text-center py-3 px-1 font-semibold text-mediumdark hover:text-dark hover:border-b-2 hover:border-dark transition-colors duration-200 border-b-2 border-transparent">Sent Requests</button>
    </div>

    <!-- Tab Contents Container -->
    <div class="w-full mt-4">
      <div id="tabContentMyFriends" class="tab-content">
        <h3 class="text-xl font-semibold text-darkdark mb-3">My Friends</h3>
        <div id="myFriendsLoading" class="text-center p-3 hidden text-mediumdark">Loading friends...</div>
        <div id="myFriendsError" class="text-red-600 text-center p-3 hidden"></div>
        <ul id="myFriendsList" class="space-y-3">
          <!-- Friend items will be loaded here by JS -->
           <li class="text-mediumlight text-center p-3">Loading...</li> <!-- Added p-3 for better appearance -->
        </ul>
      </div>

      <div id="tabContentIncomingRequests" class="tab-content hidden">
        <h3 class="text-xl font-semibold text-darkdark mb-3">Incoming Requests</h3>
         <div id="incomingRequestsLoading" class="text-center p-3 hidden text-mediumdark">Loading requests...</div>
         <div id="incomingRequestsError" class="text-red-600 text-center p-3 hidden"></div>
        <ul id="incomingRequestsList" class="space-y-3">
           <!-- Incoming request items will be loaded here by JS -->
           <li class="text-mediumlight text-center p-3">Loading...</li>
        </ul>
      </div>

      <div id="tabContentSentRequests" class="tab-content hidden">
        <h3 class="text-xl font-semibold text-darkdark mb-3">Sent Requests</h3>
         <div id="sentRequestsLoading" class="text-center p-3 hidden text-mediumdark">Loading requests...</div>
         <div id="sentRequestsError" class="text-red-600 text-center p-3 hidden"></div>
        <ul id="sentRequestsList" class="space-y-3">
           <!-- Sent request items will be loaded here by JS -->
           <li class="text-mediumlight text-center p-3">Loading...</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<style>
  /* Add specific style for the active tab button */
  .tab-button.active-tab {
    @apply text-darkdark border-b-2 border-darkdark; /* Stronger indication for active */
  }
   .tab-button:hover {
     @apply text-darkdark border-b-2 border-darkdark; /* Ensure hover uses same border style for clarity */
   }
    /* Removed the previous hover rule that changed color */
</style>
